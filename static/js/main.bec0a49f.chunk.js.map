{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGalleryList.module.css","components/Loader/Loader.module.css","App.module.css","components/Searchbar/Searchbar.jsx","components/ApiService/ApiService.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGalleryList.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","style","this","SearchForm","type","SearchFormButton","SearchFormBtnlabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","fetchImages","searchQuery","currentPage","axios","get","then","response","data","hits","ImageGalleryItem","images","onClickImage","map","id","webformatURL","largeImageURL","ImageGalleryItemImage","src","alt","onClick","ImageGallery","Button","BtnContainer","Spinner","LoaderContainer","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","bigImage","App","loading","showModal","largeImage","onChangeQuery","onFetchImages","options","length","prevState","catch","finally","toggleModal","openModal","modalImage","console","log","closeModal","_","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderOnLoadMore","Loader","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bec0a49f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1P6Bj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1jZmt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BtnContainer\":\"Button_BtnContainer__2pmfd\",\"Button\":\"Button_Button__1-Zot\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3mJyp\",\"Modal\":\"Modal_Modal__30QNL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalleryList_ImageGallery__3uceu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderContainer\":\"Loader_LoaderContainer__2IcOn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1qUN-\"};","import { Component } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport style from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ query: event.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.query.trim() === '') {\r\n      toast.error('Enter keyword to seach images!');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <header className={style.Searchbar}>\r\n          <form onSubmit={this.handleSubmit} className={style.SearchForm}>\r\n            <button type=\"submit\" className={style.SearchFormButton}>\r\n              <span className={style.SearchFormBtnlabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.query}\r\n              className={style.SearchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\r\n  const ApiKey = '21859348-c38bd78951db790eb6ef65701';\r\n\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${ApiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default fetchImages;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images, onClickImage }) => {\r\n  return (\r\n    <>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <li key={id} className={style.ImageGalleryItem}>\r\n          <img\r\n            className={style.ImageGalleryItemImage}\r\n            src={webformatURL}\r\n            alt=\"\"\r\n            onClick={() => onClickImage({ largeImageURL })}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      webformatURL: PropTypes.string,\r\n      largeImageURL: PropTypes.string,\r\n    }),\r\n  ),\r\n  onClickImage: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport style from './ImageGalleryList.module.css';\r\n\r\nconst ImageGallery = ({ images, onClickImage }) => {\r\n  return (\r\n    <ul className={style.ImageGallery}>\r\n      <ImageGalleryItem images={images} onClickImage={onClickImage} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <div className={style.BtnContainer}>\r\n        <button\r\n          className={style.Button}\r\n          type=\"button\"\r\n          onClick={this.props.onClick}\r\n        >\r\n          Load more\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n\r\n// import React from 'react';\r\n// import PropTypes from 'prop-types';\r\n// import styles from './Button.module.css';\r\n\r\n// const loadMoreButton = ({ onFetchImages, children }) => (\r\n//   <div>\r\n//     <button type=\"button\" onClick={onFetchImages}>\r\n//       {children}\r\n//     </button>\r\n//   </div>\r\n// );\r\n\r\n// loadMoreButton.propTypes = {\r\n//   onFetchImages: PropTypes.func,\r\n//   children: PropTypes.string,\r\n// };\r\n\r\n// export default loadMoreButton;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport style from './Loader.module.css';\r\n\r\nconst Spinner = () => {\r\n  //other logic\r\n\r\n  return (\r\n    <div className={style.LoaderContainer}>\r\n      <Loader\r\n        type=\"Circles\"\r\n        color=\"#7db5e9\"\r\n        height={90}\r\n        width={90}\r\n        timeout={5000}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport style from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    // console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log('Modal componentWillUnmount');\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      // console.log('Нажали ESC, нужно закрыть модалку');\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    // console.log('Кликнули в бекдроп');\r\n    // console.log('currentTarget: ', event.currentTarget);\r\n    // console.log('target: ', event.target);\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={style.Modal}>\r\n          <img src={this.props.bigImage} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport SearchBar from './components/Searchbar/Searchbar';\nimport fetchImages from './components/ApiService/ApiService.jsx';\nimport ImageGallery from './components/ImageGallery/ImageGalleryList';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader.jsx';\nimport Modal from './components/Modal/Modal.jsx';\nimport style from './App.module.css';\n\nexport class App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    error: null,\n    loading: false,\n    showModal: false,\n    largeImage: '',\n    // status: 'idle',\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.onFetchImages();\n      // console.log('Image name changed');\n      // console.log('prevState.searchQuery: ', prevState.searchQuery);\n      // console.log('this.state.searchQuery: ', this.state.searchQuery);\n    }\n\n    if (\n      prevState.currentPage !== this.state.currentPage &&\n      this.state.currentPage > 2\n    ) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      images: [],\n      currentPage: 1,\n      searchQuery: query,\n      error: null,\n    });\n  };\n\n  onFetchImages = () => {\n    const { searchQuery, currentPage, error } = this.state;\n\n    const options = { searchQuery, currentPage, error };\n\n    this.setState({ loading: true });\n\n    fetchImages(options)\n      .then(response => {\n        if (response.length === 0) {\n          toast.error('No images with this keyword to be found!');\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...response],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error: error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  openModal = modalImage => {\n    console.log('Open Modal', modalImage);\n    this.setState(() => ({ largeImage: modalImage }));\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({ largeImage: '' });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, loading, showModal, largeImage } = this.state;\n\n    const shouldRenderOnLoadMore = images.length > 0 && !loading;\n\n    return (\n      <div className={style.App}>\n        <SearchBar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery images={images} onClickImage={this.openModal} />\n        {loading && <Loader />}\n        {shouldRenderOnLoadMore && <Button onClick={this.onFetchImages} />}\n\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            bigImage={largeImage.largeImageURL}\n          />\n        )}\n\n        <Toaster position=\"top-right\" />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2CuHE\",\"SearchForm\":\"Searchbar_SearchForm__2HBxr\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2CdKE\",\"SearchFormBtn\":\"Searchbar_SearchFormBtn__3qeM5\",\"SearchFormBtnlabel\":\"Searchbar_SearchFormBtnlabel__24MSO\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2Ly6r\"};"],"sourceRoot":""}